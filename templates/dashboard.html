{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <h1>Dashboard</h1>
    <a href="{{ url_for('new_post') }}" class="button">Create New Post</a>
    <h2>Your Blogs</h2>
    <div class="posts">
        {% for post in posts %}
            <div class="post">
                <div class="post-header">
                    <h3>{{ post.title }}</h3>
                </div>
                
                <p>{{ post.content|truncate(100) }}</p>
                <div class="post-actions">
                    <a href="{{ url_for('edit_post', post_id=post._id) }}" class="button">Edit</a>
                    <form method="POST" action="{{ url_for('delete_post', post_id=post._id) }}" style="display: inline;">
                        <button type="submit" class="button">Delete</button>
                    </form>
                </div>
            </div>
        {% else %}
            <p>No posts yet. Create one now!</p>
        {% endfor %}
    </div>
{% endblock %}
