{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <h1>Your Dashboard</h1>
    <a href="{{ url_for('new_post') }}" class="button">Create New Post</a>
    <h2>Your Posts</h2>
    <div class="posts">
        {% for post in posts %}
            <div class="post">
                <h3>{{ post.title }}</h3>
                <p>{{ post.content|truncate(100) }}</p>
                <a href="{{ url_for('edit_post', post_id=post._id) }}">Edit</a>
                <form method="POST" action="{{ url_for('delete_post', post_id=post._id) }}" style="display: inline;">
                    <button type="submit">Delete</button>
                </form>
            </div>
        {% else %}
            <p>No posts yet. Create one now!</p>
        {% endfor %}
    </div>
{% endblock %}
